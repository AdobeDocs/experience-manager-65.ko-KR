---
title: '[!DNL Assets] 크기 조정 안내서'
description: 배포에 필요한 인프라 및 리소스를 예상하기 위한 효율적인 지표를 결정하는 우수 사례입니다. [!DNL Adobe Experience Manager Assets]
contentOwner: AG
translation-type: tm+mt
source-git-commit: 10dae6e9f49e93d2f4923cee754c1d23d9d4b25e
workflow-type: tm+mt
source-wordcount: '1615'
ht-degree: 0%

---


# [!DNL Assets] 크기 조정 안내서  {#assets-sizing-guide}

[!DNL Adobe Experience Manager Assets] 구현을 위해 환경 크기를 조정할 때 디스크, CPU, 메모리, IO 및 네트워크 처리량에 사용할 수 있는 충분한 리소스가 있는지 확인해야 합니다. 이러한 리소스 중 상당 수의 크기를 조정하려면 시스템에 로드되는 자산 수를 이해해야 합니다. 더 나은 지표를 사용할 수 없는 경우 기존 라이브러리의 크기를 라이브러리 페이지로 나누어 에셋이 만들어지는 비율을 찾을 수 있습니다.

## 디스크 {#disk}

### DataStore {#datastore}

[!DNL Assets] 구현에 필요한 디스크 공간 크기를 조정할 때 발생하는 일반적인 실수는 시스템에 인제스트할 Raw 이미지 크기를 기준으로 계산하기 위한 것입니다. 기본적으로 [!DNL Experience Manager]은(는) [!DNL Experience Manager] 사용자 인터페이스 요소를 렌더링하는 데 사용할 원본 이미지 외에 3개의 변환을 만듭니다. 이전 구현에서 이러한 표현물은 수집되는 자산의 두 배 크기를 가정해 왔습니다.

대부분의 사용자는 기본 변환 외에도 사용자 정의 변환을 정의합니다. 표현물 외에도 [!DNL Assets]을 사용하면 [!DNL Adobe InDesign] 및 [!DNL Adobe Illustrator]와 같은 일반적인 파일 유형에서 하위 자산을 추출할 수 있습니다.

마지막으로 [!DNL Experience Manager]의 버전 관리 기능은 버전 내역에 에셋의 복제본을 저장합니다. 자주 삭제되도록 버전을 구성할 수 있습니다. 그러나 많은 사용자는 추가 저장 공간을 사용하는 시스템의 버전을 오랫동안 유지하려고 합니다.

이러한 요인을 고려하여 사용자 에셋을 저장할 수 있는 보기 좋게 정확한 저장 공간을 계산하는 방법이 필요합니다.

1. 시스템에 로드될 자산의 크기와 수를 결정합니다.
1. [!DNL Experience Manager]에 업로드할 에셋의 대표 샘플을 가져옵니다. 예를 들어 PSD, JPG, AI 및 PDF 파일을 시스템에 로드하려는 경우 각 파일 포맷의 여러 샘플 이미지가 필요합니다. 또한 이러한 샘플은 이미지의 다양한 파일 크기와 복잡성에 대해 설명해야 합니다.
1. 사용할 변환을 정의합니다.
1. [!DNL ImageMagick] 또는 [!DNL Adobe Creative Cloud] 응용 프로그램을 사용하여 [!DNL Experience Manager]에서 변환을 만듭니다. 사용자가 지정하는 변환 외에도 즉시 사용 가능한 변환을 만듭니다. Dynamic Media을 구현하는 사용자의 경우 IC 바이너리를 사용하여 Experience Manager에 저장할 PTIFF 변환을 생성할 수 있습니다.
1. 하위 자산을 사용하려면 적절한 파일 유형에 맞게 하위 자산을 생성합니다.
1. 출력 이미지, 변환 및 하위 자산의 크기를 원본 이미지와 비교합니다. 시스템이 로드되면 예상되는 성장 요소를 생성할 수 있습니다. 예를 들어 1GB의 자산을 처리한 후 크기가 3GB인 표현물과 하위 자산을 생성하는 경우 표현물 증가 요소는 3입니다.
1. 시스템에서 자산 버전을 유지 관리할 최대 시간을 결정합니다.
1. 시스템에서 기존 자산이 변경되는 빈도를 결정합니다. 크리에이티브 워크플로우에서 [!DNL Experience Manager]이(가) 공동 작업 허브로 사용되는 경우 변경 내용이 높습니다. 완성된 자산만 시스템에 업로드하면 이 수치는 훨씬 더 낮습니다.
1. 시스템에 매달 로드되는 자산 수를 확인합니다. 확실하지 않은 경우 현재 사용 가능한 자산의 수를 확인하고, 숫자를 가장 오래된 자산의 연령으로 나누어 대략적인 숫자를 계산합니다.

위의 단계를 수행하면 다음을 결정하는 데 도움이 됩니다.

* 로드할 자산의 원시 크기입니다.
* 로드할 자산의 수입니다.
* 렌디션 성장 요인.
* 월별 자산 수정 횟수입니다.
* 자산 버전을 유지 관리할 개월 수입니다.
* 매월 로드되는 새 자산의 수입니다.
* 스토리지 공간 할당에 대한 몇 년간의 성장

네트워크 크기 지정 스프레드시트에서 이러한 숫자를 지정하여 데이터 저장소에 필요한 총 공간을 결정할 수 있습니다. 또한 [!DNL Experience Manager]에서 에셋을 수정하거나 에셋을 수정할 때 디스크 증가에 미치는 영향을 결정하는 데 유용한 도구입니다.

도구에 채워진 예제 데이터는 언급된 단계를 수행하는 것이 얼마나 중요한지를 보여 줍니다. 로드되는 Raw 이미지(1TB)를 기반으로 데이터 저장소 크기를 지정하는 경우 저장소 크기를 15배로 과소 평가했을 수 있습니다.

[파일 가져오기](assets/disk_sizing_tool.xlsx)

### 공유 데이터 저장소 {#shared-datastores}

큰 데이터 저장소의 경우 네트워크에 연결된 드라이브의 공유 파일 데이터 저장소 또는 Amazon S3 데이터 저장소를 통해 공유 데이터 저장소를 구현할 수 있습니다. 이 경우 개별 인스턴스에서 이진 파일의 복사본을 유지 관리할 필요가 없습니다. 또한 공유 데이터 저장소에서는 바이너리 없는 복제를 용이하게 하고 자산 복제와 게시 환경에 사용되는 대역폭을 줄여줍니다.

#### 사용 사례 {#use-cases}

기본 및 대기 작성자 인스턴스 간에 데이터 저장소를 공유하여 기본 인스턴스의 변경 내용으로 대기 인스턴스를 업데이트하는 데 걸리는 시간을 최소화할 수 있습니다. 또한 작성자와 게시 인스턴스 간에 데이터 저장소를 공유하여 복제 도중 트래픽을 최소화할 수 있습니다.

#### Drawback {#drawbacks}

몇 가지 위험 요소로 인해 모든 경우 데이터 저장소 공유를 사용하지 않는 것이 좋습니다.

#### 단일 실패 지점 {#single-point-of-failure}

공유 데이터 저장소가 있는 경우 인프라에서 단일 장애 지점을 제공합니다. 시스템에 각각 고유한 데이터 저장소가 있는 작성자 및 게시 인스턴스가 1개 있는 시나리오를 생각해 보십시오. 충돌이 발생해도 나머지 두 개는 계속 실행할 수 있습니다. 그러나 데이터 저장소가 공유되면 단일 디스크 장애가 전체 인프라를 낮출 수 있습니다. 따라서 데이터 저장소를 신속하게 복원할 수 있는 공유 데이터 저장소의 백업을 유지 관리해야 합니다.

공유 데이터 저장소에 대한 AWS S3 서비스 배포는 일반적인 디스크 아키텍처와 비교하여 실패 가능성이 상당히 감소하기 때문에 권장됩니다.

#### 복잡성 증가 {#increased-complexity}

또한 공유 데이터 저장소를 사용하면 가비지 수집과 같은 작업의 복잡성도 높아집니다. 일반적으로 독립형 데이터 저장소에 대한 가비지 수집은 한 번의 클릭으로 시작할 수 있습니다. 그러나 공유 데이터 저장소에는 단일 노드에서 실제 컬렉션을 실행하는 것 외에 데이터 저장소를 사용하는 각 멤버에 대한 표시 제거 작업이 필요합니다.

AWS 작업의 경우, EBS 볼륨의 RAID 배열을 구축하지 않고 단일 중앙 위치(Amazon S3를 통해)를 구현하면 시스템의 복잡성과 운영 위험을 크게 상쇄할 수 있습니다.

#### 성능 관련 문제 {#performance-concerns}

공유 데이터 저장소에서는 모든 인스턴스 간에 공유되는 네트워크 마운트 드라이브에 바이너리를 저장해야 합니다. 이러한 바이너리는 네트워크를 통해 액세스되므로 시스템 성능에 부정적인 영향을 줍니다. 빠른 네트워크 연결을 사용하여 빠른 디스크 배열에 대한 영향을 부분적으로 줄일 수 있습니다. 그러나 이것은 비싼 제안이다. AWS 작업의 경우 모든 디스크가 원격 디스크이며 네트워크 연결이 필요합니다. 임시 볼륨은 인스턴스가 시작하거나 중지되면 데이터를 잃게 됩니다.

#### 지연 {#latency}

S3 구현의 지연은 백그라운드 쓰기 스레드에서 도입됩니다. 백업 절차는 이 지연을 고려해야 합니다. 또한 백업을 만들 때 Lucene 색인은 불완전한 상태로 남아 있을 수 있습니다. S3 데이터 저장소에 기록되고 다른 인스턴스에서 액세스하는 시간 감지 파일에 적용됩니다.

### 노드 저장소 또는 문서 저장소 {#node-store-document-store}

NodeStore 또는 DocumentStore에 대한 정확한 크기 수치는 다음과 같은 리소스를 통해 얻을 수 없습니다.

* 자산 메타데이터
* 자산 버전
* 감사 로그
* 보관 및 활성 워크플로우

바이너리는 데이터 저장소에 저장되므로 각 바이너리는 일부 공간을 차지합니다. 대부분의 저장소의 크기는 100GB 미만입니다. 그러나 최대 1TB의 대형 저장소가 있을 수 있습니다. 또한 오프라인 컴포지션을 수행하려면 미리 구성된 버전과 함께 컴팩트한 저장소를 다시 작성하려면 볼륨에 여유 공간이 충분해야 합니다. 디스크 크기를 저장소에 필요한 크기보다 1.5배로 만드는 것이 좋습니다.

저장소의 경우 IOPS 수준이 3000을 초과하는 SSD 또는 디스크를 사용하십시오. 성능 병목 현상을 야기하는 IOPS의 가능성을 제거하려면 CPU IO 대기 수준을 모니터링하여 문제의 조기 징후를 파악합니다.

[파일 가져오기](assets/aem_environment_sizingtool.xlsx)

## 네트워크 {#network}

[!DNL Assets] 네트워크 성능이 많은 Adobe  [!DNL Experience Manager] 프로젝트보다 중요한 경우가 많습니다. 고객은 빠른 서버를 가질 수 있지만 네트워크 연결이 시스템의 에셋을 업로드하고 다운로드하는 사용자의 로드를 지원할 만큼 충분하지 않은 경우에는 속도가 느려지는 것으로 나타납니다. [사용자 경험, 인스턴스 크기 조정, 워크플로 평가 및 네트워크 토폴로지](/help/assets/assets-network-considerations.md)의 [!DNL Experience Manager]에 대한 사용자의 네트워크 연결에서 경계 지점을 결정하는 좋은 방법이 있습니다.

## 제한 사항 {#limitations}

구현 크기를 조정할 때 시스템 제한을 염두에 두어야 합니다. 제안된 구현이 이러한 제한 사항을 초과하는 경우, 여러 [!DNL Assets] 구현에서 자산을 분할하는 등의 크리에이티브 전략을 활용합니다.

파일 크기만 메모리 부족(OOM) 문제에 기여하는 유일한 요소는 아닙니다. 이미지 치수에도 따라 다릅니다. [!DNL Experience Manager]을(를) 시작할 때 더 큰 힙을 제공하여 OOM 문제를 방지할 수 있습니다.

또한 Configuration Manager에서 `com.day.cq.dam.commons.handler.StandardImageHandler` 구성 요소의 임계값 크기 속성을 편집하여 0보다 큰 중간 임시 파일을 사용할 수 있습니다.

## 최대 자산 수 {#maximum-number-of-assets}

파일 시스템 제한으로 인해 데이터 저장소에 존재할 수 있는 파일 수에 대한 제한은 21억입니다. 데이터 저장소 제한에 도달하기 전에 많은 수의 노드로 인해 저장소에서 문제가 발생할 수 있습니다.

변환이 잘못 생성된 경우 라이브러리를 Camera Raw 사용합니다. 그러나 이 경우 이미지의 가장 긴 면은 65,000픽셀보다 크지 않아야 합니다. 또한 이미지에는 512MP(512 x 1024 x 1024픽셀)를 초과할 수 없습니다. 자산의 크기는 중요하지 않습니다.

픽셀 크기 영향 처리와 같은 추가 요소이므로 [!DNL Experience Manager]에 대해 특정 힙이 포함된 TIFF 파일의 크기를 정확하게 계산하기는 어렵습니다. [!DNL Experience Manager]은(는) 255MB의 파일 크기를 즉시 처리할 수 있지만 파일 크기가 18MB인 파일은 이전 픽셀과 비교하여 비정상적으로 더 많은 픽셀로 구성되어 있기 때문에 처리할 수 없습니다.

## 자산 크기 {#size-of-assets}

기본적으로 [!DNL Experience Manager]에서는 최대 2GB의 파일 크기의 자산을 업로드할 수 있습니다. [!DNL Experience Manager]에서 매우 큰 자산을 업로드하려면 [구성을 참조하여 매우 큰 자산](managing-video-assets.md#configuration-to-upload-assets-that-are-larger-than-gb)을 업로드하십시오.
