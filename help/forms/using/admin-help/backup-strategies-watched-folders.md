---
title: 감시 폴더의 백업 전략
seo-title: 감시 폴더의 백업 전략
description: 이 문서에서는 감시 폴더가 다양한 백업 및 복구 시나리오의 영향을 받는 방법, 이러한 시나리오의 제한 사항 및 결과, 데이터 손실을 최소화하는 방법에 대해 설명합니다.
seo-description: 이 문서에서는 감시 폴더가 다양한 백업 및 복구 시나리오의 영향을 받는 방법, 이러한 시나리오의 제한 사항 및 결과, 데이터 손실을 최소화하는 방법에 대해 설명합니다.
uuid: c61997b8-6c36-4bd9-90e5-411841a6c176
contentOwner: admin
content-type: reference
geptopics: SG_AEMFORMS/categories/aem_forms_backup_and_recovery
products: SG_EXPERIENCEMANAGER/6.5/FORMS
discoiquuid: 6f775933-e989-4456-ad01-9bdf5dee3dad
exl-id: 0d36160a-29fa-4cc4-a0ff-fc681d3e040e
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '1124'
ht-degree: 2%

---

# 감시 폴더의 백업 전략 {#backup-strategies-for-watched-folders}

이 컨텐츠는 감시 폴더가 다양한 백업 및 복구 시나리오의 영향을 받는 방법, 이러한 시나리오의 제한 사항 및 결과, 데이터 손실을 최소화하는 방법에 대해 설명합니다.

*감시 폴더* 는 감시 폴더 계층 구조에서 다음 폴더 중 하나의 폴더 내에서 파일을 조작하는 구성 서비스 작업을 호출하는 파일 시스템 기반 응용 프로그램입니다.

* 입력
* 단계
* 출력
* 실패
* 유지

사용자 또는 클라이언트 애플리케이션은 먼저 입력 폴더의 파일이나 폴더를 삭제합니다. 그런 다음 서비스 작업이 파일을 처리를 위해 스테이지 폴더로 이동합니다. 서비스가 지정된 작업을 수행하면 수정된 파일이 출력 폴더에 저장됩니다. 성공적으로 처리된 소스 파일이 보존 폴더로 이동되고 실패한 처리 파일이 실패 폴더로 이동됩니다. 감시 폴더에 대한 `Preserve On Failure` 특성이 활성화되면 실패한 처리된 소스 파일이 보존 폴더로 이동됩니다. ([감시 폴더 엔드포인트 구성](/help/forms/using/admin-help/configuring-watched-folder-endpoints.md#configuring-watched-folder-endpoints) 참조.)

파일 시스템을 백업하여 감시 폴더를 백업할 수 있습니다.

>[!NOTE]
>
>이 백업은 데이터베이스 또는 문서 스토리지 백업 및 복구 프로세스와 독립적입니다.

## 감시 폴더의 작동 방식 {#how-watched-folders-work}

이 컨텐츠는 감시 폴더 파일 조작 프로세스에 대해 설명합니다. 복구 계획을 개발하기 전에 이 프로세스를 이해하는 것이 중요합니다. 이 예에서는 감시 폴더의 `Preserve On Failure` 속성이 활성화됩니다. 그 파일들은 도착하는 순서대로 처리된다.

다음 표에서는 프로세스 전체에서 5개의 샘플 파일(file1, file2, file3, file4, file5)의 파일 조작에 대해 설명합니다. 테이블에서 x축은 시간 1이나 T1과 같은 시간을 나타내고 y축은 입력과 같은 감시 폴더 계층 내의 폴더를 나타냅니다.

<table>
 <thead>
  <tr>
   <th><p>폴더</p></th>
   <th><p>T1</p></th>
   <th><p>T2</p></th>
   <th><p>T3</p></th>
   <th><p>T4</p></th>
   <th><p>T5</p></th>
   <th><p>T6</p></th>
   <th><p>T7</p></th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><p>입력</p></td>
   <td><p>file1, file2, file3, file4</p></td>
   <td><p>file2, file3, file4</p></td>
   <td><p>file3, file4</p></td>
   <td><p>파일4</p></td>
   <td><p>비어 있음</p></td>
   <td><p>파일5</p></td>
   <td><p>비어 있음</p></td>
  </tr>
  <tr>
   <td><p>단계</p></td>
   <td><p>비어 있음</p></td>
   <td><p>파일1</p></td>
   <td><p>파일2</p></td>
   <td><p>file3</p></td>
   <td><p>파일4</p></td>
   <td><p>비어 있음</p></td>
   <td><p>파일5</p></td>
  </tr>
  <tr>
   <td><p>출력</p></td>
   <td><p>비어 있음</p></td>
   <td><p>비어 있음</p></td>
   <td><p>file1_out</p></td>
   <td><p>file1_out, file2_out</p></td>
   <td><p>file1_out, file2_out</p></td>
   <td><p>file1_out, file2_out, file4_out</p></td>
   <td><p>file1_out, file2_out, file4_out</p></td>
  </tr>
  <tr>
   <td><p>실패</p></td>
   <td><p>비어 있음</p></td>
   <td><p>비어 있음</p></td>
   <td><p>비어 있음</p></td>
   <td><p>비어 있음</p></td>
   <td><p>file3_fail, file3 </p></td>
   <td><p>file3_fail, file3 </p></td>
   <td><p>file3_fail, file3 </p></td>
  </tr>
  <tr>
   <td><p>유지</p></td>
   <td><p>비어 있음</p></td>
   <td><p>비어 있음</p></td>
   <td><p>파일1 </p></td>
   <td><p>file1, file2 </p></td>
   <td><p>file1, file2 </p></td>
   <td><p>file1, file2, file4 </p></td>
   <td><p>file1, file2, file4 </p></td>
  </tr>
 </tbody>
</table>

다음 텍스트는 각 시간의 파일 조작에 대해 설명합니다.

**T1:** 네 개의 샘플 파일이 입력 폴더에 배치됩니다.

**T2:** 서비스 작업이 file1을 조작하기 위해 스테이지 폴더로 이동합니다.

**T3:** 서비스 작업이 file2를 조작하기 위해 스테이지 폴더로 이동합니다. 이 파일은 file1의 결과를 출력 폴더에 배치하고 file1을 preserve 폴더로 이동합니다.

**T4:** 서비스 작업은 조작을 위해 스테이지 폴더에 file3을 배치합니다. file2의 결과를 출력 폴더에 배치하고 file2를 preserve 폴더에 배치합니다.

**T5:** 서비스 작업은 조작을 위해 스테이지 폴더에 파일4를 배치합니다. file3의 조작이 실패하고 서비스 작업에서 이 파일을 실패 폴더에 넣습니다.

**T6:** 서비스 작업은 파일5를 입력 폴더에 배치합니다. 파일4의 결과를 출력 폴더에 넣고 파일4를 보존 폴더에 배치합니다.

**T7:** 서비스 작업은 조작을 위해 스테이지 폴더에 파일5를 배치합니다.

## 감시 폴더 백업 {#backing-up-watched-folders}

감시 폴더 파일 시스템 전체를 다른 파일 시스템에 백업하는 것이 좋습니다.

## 감시 폴더 복원 중 {#restoring-watched-folders}

이 섹션에서는 감시 폴더를 복원하는 방법을 설명합니다. 감시 폴더는 종종 1분 내에 완료하는 단기 프로세스를 호출합니다. 이러한 경우 시간별로 수행된 백업을 사용하여 감시 폴더를 복원해도 데이터가 손실되지 않습니다.

예를 들어, T1에 백업을 수행하고 T7에서 서버가 실패하면 file1, file2, file3 및 file4가 이미 조작됩니다. T1에서 백업을 사용하여 감시 폴더를 복원해도 데이터가 손실되지 않습니다.

최근 백업을 수행한 경우에는 파일을 복원할 수 있습니다. 파일을 복원할 때 현재 파일이 있는 감시 폴더 계층 폴더를 고려하십시오.

**단계:** 이 폴더의 파일은 감시 폴더를 복원한 후 다시 처리됩니다.

**입력:** 이 폴더의 파일은 감시 폴더를 복원한 후 다시 처리됩니다.

**결과:** 이 폴더의 파일이 처리되지 않습니다.

**출력:**  이 폴더의 파일이 처리되지 않습니다.

**유지:**  이 폴더의 파일은 처리되지 않습니다.

## 데이터 손실을 최소화하기 위한 전략 {#strategies-to-minimize-data-loss}

다음 전략은 감시 폴더를 복원할 때 출력 및 입력 폴더 데이터 손실을 최소화할 수 있습니다.

* 결과 및 실패 파일이 손실되지 않도록 출력 및 실패 폴더를 자주 백업(시간별 등)합니다.
* 감시 폴더 이외의 폴더에 있는 입력 파일을 백업합니다. 따라서 출력 또는 실패 폴더에서 파일을 찾을 수 없는 경우 복구 후 파일 가용성을 보장합니다. 파일 이름 지정 체계가 일관되는지 확인합니다.

   예를 들어 `%F.`*확장*&#x200B;을 사용하여 출력을 저장하는 경우 출력 파일의 이름은 입력 파일과 동일합니다. 이렇게 하면 조작되는 입력 파일과 다시 제출해야 하는 입력 파일을 확인할 수 있습니다. 결과 폴더에 file1_out 파일만 표시되고 file2_out, file3_out 및 file4_out은 표시되지 않으면 file2, file3 및 file4를 다시 제출해야 합니다.

* 사용 가능한 감시 폴더 백업이 작업을 처리하는 데 걸리는 시간보다 오래된 경우, 시스템에서 새 감시 폴더를 생성하고 파일을 입력 폴더에 자동으로 배치하도록 허용해야 합니다.
* 사용 가능한 최신 백업이 충분하지 않은 경우 백업 시간은 파일을 처리하는 데 걸리는 시간보다 적고, 감시 폴더를 복원하면 파일이 다음 여러 단계 중 하나로 조작되었습니다.

   * **1단계:**  입력 폴더에서
   * **2단계:**  스테이지 폴더에 복사되었지만 프로세스가 아직 호출되지 않았습니다
   * **3단계:** 스테이지 폴더에 복사되며 프로세스가 호출됩니다
   * **4단계:** 조작 진행 중
   * **5단계:** 반환된 결과

   파일이 1단계에 있으면 조작됩니다. 파일이 2단계 또는 3에 있는 경우 다시 조작할 수 있도록 입력 폴더에 넣습니다.

   >[!NOTE]
   >
   >파일 조작이 두 번 이상 발생하면 데이터가 손실되지 않지만 결과가 중복될 수 있습니다.

## 결론 {#conclusion}

감시 폴더의 동적 및 지속적으로 변화하는 특성으로 인해 감시 폴더의 복원은 하루 내에 백업된 파일로 수행해야 합니다. 가장 좋은 방법은 결과를 백업하고, 입력 폴더를 서버에 저장하고, 입력 파일을 추적하여 오류가 발생한 경우 작업을 다시 제출할 수 있도록 하는 것입니다.
